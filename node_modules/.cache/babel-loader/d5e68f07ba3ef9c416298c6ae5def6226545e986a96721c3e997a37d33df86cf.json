{"ast":null,"code":"// src/pages/DashboardPage.js\nimport React,{useMemo,useState,useEffect}from\"react\";import{useLocation,useNavigate}from\"react-router-dom\";import\"./DashboardPage.css\";import DataUploadSection from\"../components/DataUploadSection\";// Scientist modules\nimport ScientistHomeModule from\"../modules/ScientistHomeModule\";import VisualizationTool from\"../modules/VisualizationTool\";import VisualizationParametersPanel from\"../modules/VisualizationParametersPanel\";import AIRecommendationModule from\"../modules/AIRecommendationModule\";import IngestionPipelineModule from\"../modules/IngestionPipelineModule\";import MetadataTaggerModule from\"../modules/MetadataTaggerModule\";import InfluenceEngineModule from\"../modules/InfluenceEngineModule\";import LiteratureLibraryModule from\"../modules/LiteratureLibraryModule\";import ImageAnalyzerModule from\"../modules/ImageAnalyzerModule\";import CloudDataServerModule from\"../modules/CloudDataServerModule\";import DataProcessorModule from\"../modules/DataProcessorModule\";import DataAccessServerModule from\"../modules/DataAccessServerModule\";import DataInsightsModule from\"../modules/DataInsightsModule\";// Domain-expert detailed modules\nimport OceanographyModule from\"../modules/OceanographyModule\";import MarineBiologyModule from\"../modules/MarineBiologyModule\";import TaxonomySystematicsModule from\"../modules/TaxonomySystematicsModule\";import MolecularBiologyModule from\"../modules/MolecularBiologyModule\";import EDNAMetabarcodingModule from\"../modules/EDNAMetabarcodingModule\";// Data Manager modules\nimport DataRequestModule from\"../modules/DataRequestModule\";import DataUpdateModule from\"../modules/DataUpdateModule\";import TimelineDebugModule from\"../modules/TimelineDebugModule\";// Data collector\nimport UploadHistoryModule from\"../modules/UploadHistoryModule\";/* ===== Scientist / Researcher Modules ===== */import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const SCIENTIST_MODULES=[{id:\"home\",name:\"Real-time Plot\",desc:\"Real-time oceanography overview and quick access to key tools.\"},{id:\"viz\",name:\"Visualization Tool\",desc:\"Interactive dashboards for oceanographic, fisheries & biodiversity analysis.\"},{id:\"ai-reco\",name:\"AI Recommendation System\",desc:\"Recommends datasets, views and analytical paths using AI.\"},{id:\"ingest\",name:\"Ingestion Pipeline\",desc:\"Pipelines to ingest, validate and standardize datasets from multiple sources.\"},{id:\"meta\",name:\"Metadata Tagger\",desc:\"Automatically tags datasets using marine & taxonomic standards.\"},{id:\"engine\",name:\"Influence Engine\",desc:\"Maps environmental parameters to ecosystem and fisheries outcomes.\"},{id:\"library\",name:\"Literature Library\",desc:\"Digital repository of scientific literature linked to datasets.\"},{id:\"image\",name:\"Image Analyzer\",desc:\"Image and otolith analysis for morphology and species identification.\"},{id:\"cloud\",name:\"Cloud Data Server\",desc:\"Cloud storage & compute for the marine data platform.\"},{id:\"processor\",name:\"Data Processor\",desc:\"ETL & processing jobs for cleaning and aggregating data.\"},{id:\"das\",name:\"Data Access Server (DAS)\",desc:\"Secure API layer to access datasets and models.\"},{id:\"insights\",name:\"Data Insights\",desc:\"AI-driven summaries, anomalies & key indicators\"}];/* ===== Data Manager (DM) Modules ===== */const DM_MODULES=[{id:\"upload\",name:\"Data Upload\",desc:\"Upload and register new datasets into the system.\"},{id:\"request\",name:\"Data Request\",desc:\"Manage internal and external data access requests.\"},{id:\"update\",name:\"Data Update\",desc:\"Track and apply updates or corrections to existing datasets.\"},{id:\"timeline\",name:\"Timeline / Debug\",desc:\"Monitor ingestion timelines, errors and debug logs.\"}];/* ===== Admin Modules ===== */const ADMIN_MODULES=[{id:\"show-db\",name:\"Show Databases\",desc:\"Overview of all configured databases / data stores connected to the platform.\"},{id:\"admin-debug\",name:\"Error & Debug\",desc:\"Centralised error console for pipelines, services and system-level failures.\"},{id:\"change-requests\",name:\"Change Requests\",desc:\"Review and approve requests to change influence rules, configurations or system settings.\"},{id:\"user-analysis\",name:\"System Users Analysis\",desc:\"Analytics on users, roles, activity patterns and access logs.\"}];/* ===== Domain Expert Modules (5 main modules) ===== */const DOMAIN_EXPERT_MODULES=[{id:\"oce\",name:\"Oceanography\",desc:\"Physical, chemical and biological ocean processes linked to habitats and species.\",subtopics:[{id:\"phys\",label:\"Physical Oceanography\",icon:\"ðŸŒŠ\"},{id:\"chem\",label:\"Chemical Oceanography\",icon:\"âš—ï¸\"},{id:\"bio\",label:\"Biological Oceanography\",icon:\"ðŸ§«\"},{id:\"hab\",label:\"Habitat Mapping\",icon:\"ðŸ—ºï¸\"},{id:\"sat\",label:\"Satellite Data\",icon:\"ðŸ›°ï¸\"},{id:\"spatial\",label:\"Spatial Analysis\",icon:\"ðŸ“\"},{id:\"sdm\",label:\"Species Distribution Modelling (SDM)\",icon:\"ðŸ“ˆ\"},{id:\"colour\",label:\"Ocean Colour & SST Analysis\",icon:\"ðŸŒˆ\"}]},{id:\"mb\",name:\"Marine Biology\",desc:\"Species, communities and ecosystem interactions in the marine environment.\",subtopics:[{id:\"org\",label:\"Marine Organisms\",icon:\"ðŸŸ\"},{id:\"eco\",label:\"Marine Ecology\",icon:\"ðŸŒ¿\"}]},{id:\"tax\",name:\"Taxonomy & Systematics\",desc:\"Classification, naming and identification of marine species.\",subtopics:[{id:\"classical\",label:\"Classical Taxonomy\",icon:\"ðŸ“š\"},{id:\"fish-tax\",label:\"Fish Taxonomy\",icon:\"ðŸ \"},{id:\"id-keys\",label:\"Species Identification & Keys\",icon:\"ðŸ”‘\"},{id:\"rules\",label:\"Nomenclature & Classification Rules\",icon:\"ðŸ“œ\"}]},{id:\"mol\",name:\"Molecular Biology / DNA Barcoding\",desc:\"Sequence-based identification and molecular analysis for marine biodiversity.\",subtopics:[{id:\"barcoding\",label:\"DNA Barcoding\",icon:\"ðŸ§¬\"},{id:\"pcr\",label:\"PCR & Sequencing\",icon:\"ðŸ§ª\"},{id:\"markers\",label:\"Molecular Markers\",icon:\"ðŸ§¾\"}]},{id:\"edna\",name:\"eDNA & Metabarcoding\",desc:\"Environmental DNA workflows for hidden and cryptic biodiversity.\",subtopics:[{id:\"sampling\",label:\"eDNA Sampling\",icon:\"ðŸ’§\"},{id:\"meta\",label:\"Metabarcoding\",icon:\"ðŸ§«\"},{id:\"seq-ana\",label:\"Sequence Analysis\",icon:\"ðŸ§®\"}]}];/* ===== Data Collector Modules ===== */const DATA_COLLECTOR_MODULES=[{id:\"dc-upload\",name:\"Data Upload\",desc:\"Upload raw datasets (with approval and final integration by Data Manager).\"},{id:\"dc-history\",name:\"Upload History\",desc:\"View history and status of your previous uploads and their approvals.\"}];const DashboardPage=()=>{var _menuItems$;const location=useLocation();const navigate=useNavigate();const role=useMemo(()=>location.state&&location.state.role||localStorage.getItem(\"user_role\")||\"Scientist / Researcher\",[location.state]);const isDataManager=role===\"Data Manager (DM)\";const isAdmin=role===\"Admin\";const isDomainExpert=role===\"Domain Expert\";const isDataCollector=role===\"Data Collector\";const menuItems=useMemo(()=>{if(isAdmin)return ADMIN_MODULES;if(isDataManager)return DM_MODULES;if(isDataCollector)return DATA_COLLECTOR_MODULES;if(isDomainExpert)return DOMAIN_EXPERT_MODULES;return SCIENTIST_MODULES;},[isAdmin,isDataManager,isDataCollector,isDomainExpert]);const[selectedModuleId,setSelectedModuleId]=useState(((_menuItems$=menuItems[0])===null||_menuItems$===void 0?void 0:_menuItems$.id)||\"\");const[selectedTopicId,setSelectedTopicId]=useState(null);useEffect(()=>{var _menuItems$2;setSelectedModuleId(((_menuItems$2=menuItems[0])===null||_menuItems$2===void 0?void 0:_menuItems$2.id)||\"\");setSelectedTopicId(null);},[menuItems]);const selectedModule=menuItems.find(m=>m.id===selectedModuleId)||menuItems[0];const handleLogout=()=>{localStorage.removeItem(\"user_role\");localStorage.removeItem(\"user_email\");navigate(\"/\");};const isUploadModule=isDataManager&&(selectedModule===null||selectedModule===void 0?void 0:selectedModule.id)===\"upload\"||isDataCollector&&(selectedModule===null||selectedModule===void 0?void 0:selectedModule.id)===\"dc-upload\";/* ===== Decide what to render in MAIN AREA ===== */const renderModuleContent=()=>{var _selectedModule$subto;// 1) DM / Data Collector â†’ Upload workspace\nif(isUploadModule){return/*#__PURE__*/_jsx(DataUploadSection,{});}// 2) Scientist / Researcher â†’ specialised pages\nconst isScientist=!isDataManager&&!isAdmin&&!isDomainExpert&&!isDataCollector;if(isScientist){switch(selectedModule===null||selectedModule===void 0?void 0:selectedModule.id){case\"home\":return/*#__PURE__*/_jsx(ScientistHomeModule,{});case\"viz\":return/*#__PURE__*/_jsx(VisualizationTool,{});case\"ai-reco\":return/*#__PURE__*/_jsx(AIRecommendationModule,{});case\"ingest\":return/*#__PURE__*/_jsx(IngestionPipelineModule,{});case\"meta\":return/*#__PURE__*/_jsx(MetadataTaggerModule,{});case\"engine\":return/*#__PURE__*/_jsx(InfluenceEngineModule,{});case\"library\":return/*#__PURE__*/_jsx(LiteratureLibraryModule,{});case\"image\":return/*#__PURE__*/_jsx(ImageAnalyzerModule,{});case\"cloud\":return/*#__PURE__*/_jsx(CloudDataServerModule,{});case\"processor\":return/*#__PURE__*/_jsx(DataProcessorModule,{});case\"das\":return/*#__PURE__*/_jsx(DataAccessServerModule,{});case\"insights\":return/*#__PURE__*/_jsx(DataInsightsModule,{});default:break;}}// 3) Domain Expert â†’ specialised pages\nif(isDomainExpert){switch(selectedModule===null||selectedModule===void 0?void 0:selectedModule.id){case\"oce\":return/*#__PURE__*/_jsx(OceanographyModule,{});case\"mb\":return/*#__PURE__*/_jsx(MarineBiologyModule,{});case\"tax\":return/*#__PURE__*/_jsx(TaxonomySystematicsModule,{});case\"mol\":return/*#__PURE__*/_jsx(MolecularBiologyModule,{});case\"edna\":return/*#__PURE__*/_jsx(EDNAMetabarcodingModule,{});default:break;}}// 4) Data Manager â†’ dedicated pages (non-upload)\n// in DashboardPage renderModuleContent()\nif(isDataManager){switch(selectedModule===null||selectedModule===void 0?void 0:selectedModule.id){case\"request\":return/*#__PURE__*/_jsx(DataRequestModule,{});case\"update\":return/*#__PURE__*/_jsx(DataUpdateModule,{});case\"timeline\":return/*#__PURE__*/_jsx(TimelineDebugModule,{});// âœ… this one\ndefault:break;}}// 5) Data Collector â†’ Upload History dedicated page\nif(isDataCollector&&(selectedModule===null||selectedModule===void 0?void 0:selectedModule.id)===\"dc-history\"){return/*#__PURE__*/_jsx(UploadHistoryModule,{});}// 6) Default: existing cards layout (Admin, Domain Expert modules without custom page, etc.)\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"module-cards\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"module-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Overview\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"High-level summary and purpose of\",\" \",/*#__PURE__*/_jsx(\"strong\",{children:selectedModule===null||selectedModule===void 0?void 0:selectedModule.name}),\".\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"module-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:isDomainExpert?\"Topics\":\"Quick Actions\"}),isDomainExpert&&selectedModule!==null&&selectedModule!==void 0&&selectedModule.subtopics?/*#__PURE__*/_jsx(\"div\",{className:\"domain-pill-column\",children:selectedModule.subtopics.map(topic=>/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"domain-pill\"+(selectedTopicId===topic.id?\" domain-pill-active\":\"\"),onClick:()=>setSelectedTopicId(topic.id),children:[/*#__PURE__*/_jsx(\"span\",{className:\"domain-icon\",children:topic.icon}),/*#__PURE__*/_jsx(\"span\",{className:\"domain-label\",children:topic.label})]},topic.id))}):/*#__PURE__*/_jsxs(\"ul\",{children:[isAdmin&&(selectedModule===null||selectedModule===void 0?void 0:selectedModule.id)===\"show-db\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:\"List all databases\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Check connection health\"}),/*#__PURE__*/_jsx(\"li\",{children:\"View storage usage\"})]}),isAdmin&&(selectedModule===null||selectedModule===void 0?void 0:selectedModule.id)===\"admin-debug\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:\"Open error console\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Filter by service/module\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Download error report\"})]}),isAdmin&&(selectedModule===null||selectedModule===void 0?void 0:selectedModule.id)===\"change-requests\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:\"View open change requests\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Review influence rule changes\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Approve / reject & log decision\"})]}),isAdmin&&(selectedModule===null||selectedModule===void 0?void 0:selectedModule.id)===\"user-analysis\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:\"View active users by role\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Check recent activity\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Export usage analytics\"})]}),isDataCollector&&(selectedModule===null||selectedModule===void 0?void 0:selectedModule.id)===\"dc-history\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:\"View previous uploads\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Check approval status\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Download upload receipts\"})]}),!isDataManager&&!isAdmin&&!isDataCollector&&!isDomainExpert&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:\"Open module console\"}),/*#__PURE__*/_jsx(\"li\",{children:\"View sample outputs\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Explore linked datasets\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"module-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Status\"}),isDomainExpert&&selectedTopicId?/*#__PURE__*/_jsxs(\"p\",{children:[\"Selected topic:\",\" \",/*#__PURE__*/_jsx(\"strong\",{children:(_selectedModule$subto=selectedModule.subtopics.find(t=>t.id===selectedTopicId))===null||_selectedModule$subto===void 0?void 0:_selectedModule$subto.label}),\". You can attach analysis dashboards or rule editors here.\"]}):/*#__PURE__*/_jsx(\"p\",{children:\"Active \\u2022 Last activity: a few minutes ago.\"})]})]});};return/*#__PURE__*/_jsx(\"main\",{className:\"dashboard\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-layout\",children:[/*#__PURE__*/_jsxs(\"aside\",{className:\"dashboard-sidebar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-title\",children:\"OASIS \\xB7 CMLRE\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-user-box\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"sidebar-user-label\",children:\"Logged in as\"}),/*#__PURE__*/_jsx(\"p\",{className:\"sidebar-user-role\",children:role})]}),/*#__PURE__*/_jsx(\"p\",{className:\"sidebar-heading\",children:\"Modules\"}),menuItems.map(mod=>/*#__PURE__*/_jsx(\"button\",{className:\"sidebar-item \".concat(mod.id===selectedModuleId?\"sidebar-item-active\":\"\"),onClick:()=>{setSelectedModuleId(mod.id);setSelectedTopicId(null);},children:mod.name},mod.id)),/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"logout-btn\",onClick:handleLogout,children:\"Logout\"})})]}),/*#__PURE__*/_jsx(\"section\",{className:\"dashboard-main\",children:/*#__PURE__*/_jsxs(\"section\",{className:\"dashboard-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:selectedModule===null||selectedModule===void 0?void 0:selectedModule.name}),/*#__PURE__*/_jsx(\"p\",{className:\"dashboard-section-text\",children:(selectedModule===null||selectedModule===void 0?void 0:selectedModule.desc)||\"\"}),renderModuleContent()]})})]})});};export default DashboardPage;","map":{"version":3,"names":["React","useMemo","useState","useEffect","useLocation","useNavigate","DataUploadSection","ScientistHomeModule","VisualizationTool","VisualizationParametersPanel","AIRecommendationModule","IngestionPipelineModule","MetadataTaggerModule","InfluenceEngineModule","LiteratureLibraryModule","ImageAnalyzerModule","CloudDataServerModule","DataProcessorModule","DataAccessServerModule","DataInsightsModule","OceanographyModule","MarineBiologyModule","TaxonomySystematicsModule","MolecularBiologyModule","EDNAMetabarcodingModule","DataRequestModule","DataUpdateModule","TimelineDebugModule","UploadHistoryModule","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SCIENTIST_MODULES","id","name","desc","DM_MODULES","ADMIN_MODULES","DOMAIN_EXPERT_MODULES","subtopics","label","icon","DATA_COLLECTOR_MODULES","DashboardPage","_menuItems$","location","navigate","role","state","localStorage","getItem","isDataManager","isAdmin","isDomainExpert","isDataCollector","menuItems","selectedModuleId","setSelectedModuleId","selectedTopicId","setSelectedTopicId","_menuItems$2","selectedModule","find","m","handleLogout","removeItem","isUploadModule","renderModuleContent","_selectedModule$subto","isScientist","className","children","map","topic","type","onClick","t","mod","concat"],"sources":["C:/Users/Aryan/Desktop/SIH/final_frontend/src/pages/DashboardPage.js"],"sourcesContent":["// src/pages/DashboardPage.js\r\nimport React, { useMemo, useState, useEffect } from \"react\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport \"./DashboardPage.css\";\r\n\r\nimport DataUploadSection from \"../components/DataUploadSection\";\r\n\r\n// Scientist modules\r\nimport ScientistHomeModule from \"../modules/ScientistHomeModule\";\r\nimport VisualizationTool from \"../modules/VisualizationTool\";\r\nimport VisualizationParametersPanel from \"../modules/VisualizationParametersPanel\";\r\nimport AIRecommendationModule from \"../modules/AIRecommendationModule\";\r\nimport IngestionPipelineModule from \"../modules/IngestionPipelineModule\";\r\nimport MetadataTaggerModule from \"../modules/MetadataTaggerModule\";\r\nimport InfluenceEngineModule from \"../modules/InfluenceEngineModule\";\r\nimport LiteratureLibraryModule from \"../modules/LiteratureLibraryModule\";\r\nimport ImageAnalyzerModule from \"../modules/ImageAnalyzerModule\";\r\nimport CloudDataServerModule from \"../modules/CloudDataServerModule\";\r\nimport DataProcessorModule from \"../modules/DataProcessorModule\";\r\nimport DataAccessServerModule from \"../modules/DataAccessServerModule\";\r\nimport DataInsightsModule from \"../modules/DataInsightsModule\";\r\n\r\n\r\n// Domain-expert detailed modules\r\nimport OceanographyModule from \"../modules/OceanographyModule\";\r\nimport MarineBiologyModule from \"../modules/MarineBiologyModule\";\r\nimport TaxonomySystematicsModule from \"../modules/TaxonomySystematicsModule\";\r\nimport MolecularBiologyModule from \"../modules/MolecularBiologyModule\";\r\nimport EDNAMetabarcodingModule from \"../modules/EDNAMetabarcodingModule\";\r\n\r\n// Data Manager modules\r\nimport DataRequestModule from \"../modules/DataRequestModule\";\r\nimport DataUpdateModule from \"../modules/DataUpdateModule\";\r\nimport TimelineDebugModule from \"../modules/TimelineDebugModule\";\r\n\r\n// Data collector\r\nimport UploadHistoryModule from \"../modules/UploadHistoryModule\";\r\n\r\n/* ===== Scientist / Researcher Modules ===== */\r\nconst SCIENTIST_MODULES = [\r\n   {\r\n    id: \"home\",\r\n    name: \"Real-time Plot\",\r\n    desc: \"Real-time oceanography overview and quick access to key tools.\",\r\n  },\r\n  {\r\n    id: \"viz\",\r\n    name: \"Visualization Tool\",\r\n    desc: \"Interactive dashboards for oceanographic, fisheries & biodiversity analysis.\",\r\n  },\r\n  {\r\n    id: \"ai-reco\",\r\n    name: \"AI Recommendation System\",\r\n    desc: \"Recommends datasets, views and analytical paths using AI.\",\r\n  },\r\n  {\r\n    id: \"ingest\",\r\n    name: \"Ingestion Pipeline\",\r\n    desc: \"Pipelines to ingest, validate and standardize datasets from multiple sources.\",\r\n  },\r\n  {\r\n    id: \"meta\",\r\n    name: \"Metadata Tagger\",\r\n    desc: \"Automatically tags datasets using marine & taxonomic standards.\",\r\n  },\r\n  {\r\n    id: \"engine\",\r\n    name: \"Influence Engine\",\r\n    desc: \"Maps environmental parameters to ecosystem and fisheries outcomes.\",\r\n  },\r\n  {\r\n    id: \"library\",\r\n    name: \"Literature Library\",\r\n    desc: \"Digital repository of scientific literature linked to datasets.\",\r\n  },\r\n  {\r\n    id: \"image\",\r\n    name: \"Image Analyzer\",\r\n    desc: \"Image and otolith analysis for morphology and species identification.\",\r\n  },\r\n  {\r\n    id: \"cloud\",\r\n    name: \"Cloud Data Server\",\r\n    desc: \"Cloud storage & compute for the marine data platform.\",\r\n  },\r\n  {\r\n    id: \"processor\",\r\n    name: \"Data Processor\",\r\n    desc: \"ETL & processing jobs for cleaning and aggregating data.\",\r\n  },\r\n  {\r\n    id: \"das\",\r\n    name: \"Data Access Server (DAS)\",\r\n    desc: \"Secure API layer to access datasets and models.\",\r\n  },\r\n  {\r\n    id: \"insights\",\r\n    name: \"Data Insights\",\r\n    desc: \"AI-driven summaries, anomalies & key indicators\",\r\n  },\r\n];\r\n\r\n/* ===== Data Manager (DM) Modules ===== */\r\nconst DM_MODULES = [\r\n  {\r\n    id: \"upload\",\r\n    name: \"Data Upload\",\r\n    desc: \"Upload and register new datasets into the system.\",\r\n  },\r\n  {\r\n    id: \"request\",\r\n    name: \"Data Request\",\r\n    desc: \"Manage internal and external data access requests.\",\r\n  },\r\n  {\r\n    id: \"update\",\r\n    name: \"Data Update\",\r\n    desc: \"Track and apply updates or corrections to existing datasets.\",\r\n  },\r\n  {\r\n    id: \"timeline\",\r\n    name: \"Timeline / Debug\",\r\n    desc: \"Monitor ingestion timelines, errors and debug logs.\",\r\n  },\r\n];\r\n\r\n/* ===== Admin Modules ===== */\r\nconst ADMIN_MODULES = [\r\n  {\r\n    id: \"show-db\",\r\n    name: \"Show Databases\",\r\n    desc: \"Overview of all configured databases / data stores connected to the platform.\",\r\n  },\r\n  {\r\n    id: \"admin-debug\",\r\n    name: \"Error & Debug\",\r\n    desc: \"Centralised error console for pipelines, services and system-level failures.\",\r\n  },\r\n  {\r\n    id: \"change-requests\",\r\n    name: \"Change Requests\",\r\n    desc: \"Review and approve requests to change influence rules, configurations or system settings.\",\r\n  },\r\n  {\r\n    id: \"user-analysis\",\r\n    name: \"System Users Analysis\",\r\n    desc: \"Analytics on users, roles, activity patterns and access logs.\",\r\n  },\r\n];\r\n\r\n/* ===== Domain Expert Modules (5 main modules) ===== */\r\nconst DOMAIN_EXPERT_MODULES = [\r\n  {\r\n    id: \"oce\",\r\n    name: \"Oceanography\",\r\n    desc: \"Physical, chemical and biological ocean processes linked to habitats and species.\",\r\n    subtopics: [\r\n      { id: \"phys\", label: \"Physical Oceanography\", icon: \"ðŸŒŠ\" },\r\n      { id: \"chem\", label: \"Chemical Oceanography\", icon: \"âš—ï¸\" },\r\n      { id: \"bio\", label: \"Biological Oceanography\", icon: \"ðŸ§«\" },\r\n      { id: \"hab\", label: \"Habitat Mapping\", icon: \"ðŸ—ºï¸\" },\r\n      { id: \"sat\", label: \"Satellite Data\", icon: \"ðŸ›°ï¸\" },\r\n      { id: \"spatial\", label: \"Spatial Analysis\", icon: \"ðŸ“\" },\r\n      { id: \"sdm\", label: \"Species Distribution Modelling (SDM)\", icon: \"ðŸ“ˆ\" },\r\n      { id: \"colour\", label: \"Ocean Colour & SST Analysis\", icon: \"ðŸŒˆ\" },\r\n    ],\r\n  },\r\n  {\r\n    id: \"mb\",\r\n    name: \"Marine Biology\",\r\n    desc: \"Species, communities and ecosystem interactions in the marine environment.\",\r\n    subtopics: [\r\n      { id: \"org\", label: \"Marine Organisms\", icon: \"ðŸŸ\" },\r\n      { id: \"eco\", label: \"Marine Ecology\", icon: \"ðŸŒ¿\" },\r\n    ],\r\n  },\r\n  {\r\n    id: \"tax\",\r\n    name: \"Taxonomy & Systematics\",\r\n    desc: \"Classification, naming and identification of marine species.\",\r\n    subtopics: [\r\n      { id: \"classical\", label: \"Classical Taxonomy\", icon: \"ðŸ“š\" },\r\n      { id: \"fish-tax\", label: \"Fish Taxonomy\", icon: \"ðŸ \" },\r\n      { id: \"id-keys\", label: \"Species Identification & Keys\", icon: \"ðŸ”‘\" },\r\n      { id: \"rules\", label: \"Nomenclature & Classification Rules\", icon: \"ðŸ“œ\" },\r\n    ],\r\n  },\r\n  {\r\n    id: \"mol\",\r\n    name: \"Molecular Biology / DNA Barcoding\",\r\n    desc: \"Sequence-based identification and molecular analysis for marine biodiversity.\",\r\n    subtopics: [\r\n      { id: \"barcoding\", label: \"DNA Barcoding\", icon: \"ðŸ§¬\" },\r\n      { id: \"pcr\", label: \"PCR & Sequencing\", icon: \"ðŸ§ª\" },\r\n      { id: \"markers\", label: \"Molecular Markers\", icon: \"ðŸ§¾\" },\r\n    ],\r\n  },\r\n  {\r\n    id: \"edna\",\r\n    name: \"eDNA & Metabarcoding\",\r\n    desc: \"Environmental DNA workflows for hidden and cryptic biodiversity.\",\r\n    subtopics: [\r\n      { id: \"sampling\", label: \"eDNA Sampling\", icon: \"ðŸ’§\" },\r\n      { id: \"meta\", label: \"Metabarcoding\", icon: \"ðŸ§«\" },\r\n      { id: \"seq-ana\", label: \"Sequence Analysis\", icon: \"ðŸ§®\" },\r\n    ],\r\n  },\r\n];\r\n\r\n/* ===== Data Collector Modules ===== */\r\nconst DATA_COLLECTOR_MODULES = [\r\n  {\r\n    id: \"dc-upload\",\r\n    name: \"Data Upload\",\r\n    desc: \"Upload raw datasets (with approval and final integration by Data Manager).\",\r\n  },\r\n  {\r\n    id: \"dc-history\",\r\n    name: \"Upload History\",\r\n    desc: \"View history and status of your previous uploads and their approvals.\",\r\n  },\r\n];\r\n\r\nconst DashboardPage = () => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n\r\n  const role = useMemo(\r\n    () =>\r\n      (location.state && location.state.role) ||\r\n      localStorage.getItem(\"user_role\") ||\r\n      \"Scientist / Researcher\",\r\n    [location.state]\r\n  );\r\n\r\n  const isDataManager = role === \"Data Manager (DM)\";\r\n  const isAdmin = role === \"Admin\";\r\n  const isDomainExpert = role === \"Domain Expert\";\r\n  const isDataCollector = role === \"Data Collector\";\r\n\r\n  const menuItems = useMemo(() => {\r\n    if (isAdmin) return ADMIN_MODULES;\r\n    if (isDataManager) return DM_MODULES;\r\n    if (isDataCollector) return DATA_COLLECTOR_MODULES;\r\n    if (isDomainExpert) return DOMAIN_EXPERT_MODULES;\r\n    return SCIENTIST_MODULES;\r\n  }, [isAdmin, isDataManager, isDataCollector, isDomainExpert]);\r\n\r\n  const [selectedModuleId, setSelectedModuleId] = useState(\r\n    menuItems[0]?.id || \"\"\r\n  );\r\n  const [selectedTopicId, setSelectedTopicId] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setSelectedModuleId(menuItems[0]?.id || \"\");\r\n    setSelectedTopicId(null);\r\n  }, [menuItems]);\r\n\r\n  const selectedModule =\r\n    menuItems.find((m) => m.id === selectedModuleId) || menuItems[0];\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"user_role\");\r\n    localStorage.removeItem(\"user_email\");\r\n    navigate(\"/\");\r\n  };\r\n\r\n  const isUploadModule =\r\n    (isDataManager && selectedModule?.id === \"upload\") ||\r\n    (isDataCollector && selectedModule?.id === \"dc-upload\");\r\n\r\n  /* ===== Decide what to render in MAIN AREA ===== */\r\n  const renderModuleContent = () => {\r\n    // 1) DM / Data Collector â†’ Upload workspace\r\n    if (isUploadModule) {\r\n      return <DataUploadSection />;\r\n    }\r\n\r\n    // 2) Scientist / Researcher â†’ specialised pages\r\n    const isScientist =\r\n      !isDataManager && !isAdmin && !isDomainExpert && !isDataCollector;\r\n\r\n    if (isScientist) {\r\n      switch (selectedModule?.id) {\r\n        \r\n        case \"home\":\r\n      return <ScientistHomeModule />;\r\n        case \"viz\":\r\n          return <VisualizationTool />;\r\n        case \"ai-reco\":\r\n          return <AIRecommendationModule />;\r\n        case \"ingest\":\r\n          return <IngestionPipelineModule />;\r\n        case \"meta\":\r\n          return <MetadataTaggerModule />;\r\n        case \"engine\":\r\n          return <InfluenceEngineModule />;\r\n        case \"library\":\r\n          return <LiteratureLibraryModule />;\r\n        case \"image\":\r\n          return <ImageAnalyzerModule />;\r\n        case \"cloud\":\r\n          return <CloudDataServerModule />;\r\n        case \"processor\":\r\n          return <DataProcessorModule />;\r\n        case \"das\":\r\n          return <DataAccessServerModule />;\r\n        case \"insights\":\r\n          return <DataInsightsModule />;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n\r\n    // 3) Domain Expert â†’ specialised pages\r\n    if (isDomainExpert) {\r\n      switch (selectedModule?.id) {\r\n        case \"oce\":\r\n          return <OceanographyModule />;\r\n        case \"mb\":\r\n          return <MarineBiologyModule />;\r\n        case \"tax\":\r\n          return <TaxonomySystematicsModule />;\r\n        case \"mol\":\r\n          return <MolecularBiologyModule />;\r\n        case \"edna\":\r\n          return <EDNAMetabarcodingModule />;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n\r\n    // 4) Data Manager â†’ dedicated pages (non-upload)\r\n    // in DashboardPage renderModuleContent()\r\nif (isDataManager) {\r\n  switch (selectedModule?.id) {\r\n    case \"request\":\r\n      return <DataRequestModule />;\r\n    case \"update\":\r\n      return <DataUpdateModule />;\r\n    case \"timeline\":\r\n      return <TimelineDebugModule />;   // âœ… this one\r\n    default:\r\n      break;\r\n  }\r\n}\r\n\r\n    // 5) Data Collector â†’ Upload History dedicated page\r\n    if (isDataCollector && selectedModule?.id === \"dc-history\") {\r\n      return <UploadHistoryModule />;\r\n    }\r\n\r\n    // 6) Default: existing cards layout (Admin, Domain Expert modules without custom page, etc.)\r\n    return (\r\n      <div className=\"module-cards\">\r\n        {/* Overview card */}\r\n        <div className=\"module-card\">\r\n          <h3>Overview</h3>\r\n          <p>\r\n            High-level summary and purpose of{\" \"}\r\n            <strong>{selectedModule?.name}</strong>.\r\n          </p>\r\n        </div>\r\n\r\n        {/* Middle card */}\r\n        <div className=\"module-card\">\r\n          <h3>{isDomainExpert ? \"Topics\" : \"Quick Actions\"}</h3>\r\n\r\n          {isDomainExpert && selectedModule?.subtopics ? (\r\n            <div className=\"domain-pill-column\">\r\n              {selectedModule.subtopics.map((topic) => (\r\n                <button\r\n                  key={topic.id}\r\n                  type=\"button\"\r\n                  className={\r\n                    \"domain-pill\" +\r\n                    (selectedTopicId === topic.id\r\n                      ? \" domain-pill-active\"\r\n                      : \"\")\r\n                  }\r\n                  onClick={() => setSelectedTopicId(topic.id)}\r\n                >\r\n                  <span className=\"domain-icon\">{topic.icon}</span>\r\n                  <span className=\"domain-label\">{topic.label}</span>\r\n                </button>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <ul>\r\n              {/* Admin actions */}\r\n              {isAdmin && selectedModule?.id === \"show-db\" && (\r\n                <>\r\n                  <li>List all databases</li>\r\n                  <li>Check connection health</li>\r\n                  <li>View storage usage</li>\r\n                </>\r\n              )}\r\n              {isAdmin && selectedModule?.id === \"admin-debug\" && (\r\n                <>\r\n                  <li>Open error console</li>\r\n                  <li>Filter by service/module</li>\r\n                  <li>Download error report</li>\r\n                </>\r\n              )}\r\n              {isAdmin && selectedModule?.id === \"change-requests\" && (\r\n                <>\r\n                  <li>View open change requests</li>\r\n                  <li>Review influence rule changes</li>\r\n                  <li>Approve / reject & log decision</li>\r\n                </>\r\n              )}\r\n              {isAdmin && selectedModule?.id === \"user-analysis\" && (\r\n                <>\r\n                  <li>View active users by role</li>\r\n                  <li>Check recent activity</li>\r\n                  <li>Export usage analytics</li>\r\n                </>\r\n              )}\r\n\r\n              {/* Data Collector actions (non-upload) */}\r\n              {isDataCollector && selectedModule?.id === \"dc-history\" && (\r\n                <>\r\n                  <li>View previous uploads</li>\r\n                  <li>Check approval status</li>\r\n                  <li>Download upload receipts</li>\r\n                </>\r\n              )}\r\n\r\n              {/* Default Scientist / other actions when no special page */}\r\n              {!isDataManager &&\r\n                !isAdmin &&\r\n                !isDataCollector &&\r\n                !isDomainExpert && (\r\n                  <>\r\n                    <li>Open module console</li>\r\n                    <li>View sample outputs</li>\r\n                    <li>Explore linked datasets</li>\r\n                  </>\r\n                )}\r\n            </ul>\r\n          )}\r\n        </div>\r\n\r\n        {/* Status card */}\r\n        <div className=\"module-card\">\r\n          <h3>Status</h3>\r\n          {isDomainExpert && selectedTopicId ? (\r\n            <p>\r\n              Selected topic:{\" \"}\r\n              <strong>\r\n                {\r\n                  selectedModule.subtopics.find(\r\n                    (t) => t.id === selectedTopicId\r\n                  )?.label\r\n                }\r\n              </strong>\r\n              . You can attach analysis dashboards or rule editors here.\r\n            </p>\r\n          ) : (\r\n            <p>Active â€¢ Last activity: a few minutes ago.</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <main className=\"dashboard\">\r\n      <div className=\"dashboard-layout\">\r\n        {/* SIDEBAR */}\r\n        <aside className=\"dashboard-sidebar\">\r\n          <div className=\"sidebar-title\">OASIS Â· CMLRE</div>\r\n\r\n          <div className=\"sidebar-user-box\">\r\n            <p className=\"sidebar-user-label\">Logged in as</p>\r\n            <p className=\"sidebar-user-role\">{role}</p>\r\n          </div>\r\n\r\n          <p className=\"sidebar-heading\">Modules</p>\r\n          {menuItems.map((mod) => (\r\n            <button\r\n              key={mod.id}\r\n              className={`sidebar-item ${\r\n                mod.id === selectedModuleId ? \"sidebar-item-active\" : \"\"\r\n              }`}\r\n              onClick={() => {\r\n                setSelectedModuleId(mod.id);\r\n                setSelectedTopicId(null);\r\n              }}\r\n            >\r\n              {mod.name}\r\n            </button>\r\n          ))}\r\n\r\n          <div className=\"sidebar-footer\">\r\n            <button className=\"logout-btn\" onClick={handleLogout}>\r\n              Logout\r\n            </button>\r\n          </div>\r\n        </aside>\r\n\r\n        {/* MAIN CONTENT */}\r\n        <section className=\"dashboard-main\">\r\n          <section className=\"dashboard-section\">\r\n            <h2>{selectedModule?.name}</h2>\r\n            <p className=\"dashboard-section-text\">\r\n              {selectedModule?.desc || \"\"}\r\n            </p>\r\n\r\n            {renderModuleContent()}\r\n          </section>\r\n        </section>\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default DashboardPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}