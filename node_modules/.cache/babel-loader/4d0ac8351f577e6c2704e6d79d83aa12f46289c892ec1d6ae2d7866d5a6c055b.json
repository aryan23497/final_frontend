{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Aryan\\\\Desktop\\\\SIH\\\\final_frontend\\\\src\\\\modules\\\\CloudDataServerModule.js\",\n  _s = $RefreshSig$();\n// src/modules/CloudDataServerModule.js\nimport React, { useState, useMemo, useEffect } from \"react\";\nimport \"./CloudDataServerModule.css\";\n\n/**\r\n * CloudDataServerModule\r\n *\r\n * - apiBase: base URL for your FastAPI backend (e.g. \"http://localhost:8000\")\r\n *   If left empty string, it will call same-origin endpoints.\r\n *\r\n * Behavior:\r\n * - Clicking a domain triggers GET /api/datasets/{domain}\r\n * - Clicking \"Request access\" triggers POST /api/presign { domain, dataset }\r\n * - On success, Request access button is replaced with Raw/Curated/Metadata download buttons\r\n *\r\n * Fixes:\r\n * - Uses fetch(..., { cache: \"no-store\" }) to avoid 304 Not Modified responses without body\r\n * - Adds defensive handling for non-JSON responses and empty bodies to prevent JSON.parse errors\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DOMAINS = [{\n  id: \"oceanography\",\n  label: \"Oceanography\",\n  description: \"CTD, nutrients, currents, satellite SST & Chl-a grids.\"\n}, {\n  id: \"biodiversity\",\n  label: \"Biodiversity\",\n  description: \"Species diversity, ecosystem assessments, biodiversity indices.\"\n}, {\n  id: \"molecular\",\n  label: \"Molecular / eDNA\",\n  description: \"DNA barcodes, eDNA reads, metabarcoding matrices.\"\n}, {\n  id: \"taxonomy\",\n  label: \"Taxonomy & Systematics\",\n  description: \"Species checklists, occurrence tables, reference libraries.\"\n}];\nexport default function CloudDataServerModule({\n  apiBase = \"\"\n}) {\n  _s();\n  // active domain state\n  const [activeDomain, setActiveDomain] = useState(\"oceanography\");\n\n  // datasets list returned by backend for activeDomain (array of base names)\n  const [datasets, setDatasets] = useState([]);\n  const [loadingDatasets, setLoadingDatasets] = useState(false);\n\n  // presign results keyed by dataset name\n  // { [dataset]: { raw_url, curated_url, metadata_url, missing: [], tried_keys: {...} } }\n  const [presigns, setPresigns] = useState({});\n\n  // loading states for individual presign requests\n  const [loadingPresign, setLoadingPresign] = useState({});\n\n  // error banner\n  const [error, setError] = useState(null);\n  const activeDomainMeta = useMemo(() => DOMAINS.find(d => d.id === activeDomain), [activeDomain]);\n  useEffect(() => {\n    // load datasets when activeDomain changes\n    listDatasets(activeDomain);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [activeDomain]);\n\n  /**\r\n   * listDatasets\r\n   * - Uses cache: \"no-store\" to avoid 304 responses without a body\r\n   * - Verifies content-type before calling resp.json()\r\n   * - Provides helpful error messages on failure\r\n   */\n  async function listDatasets(domain) {\n    setError(null);\n    setLoadingDatasets(true);\n    setDatasets([]);\n    try {\n      const url = `${apiBase}/api/datasets/${encodeURIComponent(domain)}`;\n\n      // Force fresh fetch to avoid 304 Not Modified responses which have no body\n      const resp = await fetch(url, {\n        cache: \"no-store\"\n      });\n\n      // If non-OK status, read text and throw with server body for debugging\n      if (!resp.ok) {\n        const body = await resp.text();\n        throw new Error(`List failed: ${resp.status} ${body}`);\n      }\n\n      // If no content\n      if (resp.status === 204) {\n        setDatasets([]);\n        return;\n      }\n\n      // Only attempt JSON parse if content-type looks like json\n      const contentType = resp.headers.get(\"content-type\") || \"\";\n      if (contentType.includes(\"application/json\")) {\n        const json = await resp.json();\n        setDatasets(Array.isArray(json) ? json : []);\n      } else {\n        // helpful debug message — show what server actually returned\n        const text = await resp.text();\n        throw new Error(`Expected JSON but server returned content-type=${contentType} body=${text}`);\n      }\n    } catch (err) {\n      console.error(\"listDatasets error:\", err);\n      setError(err.message || \"Failed to list datasets\");\n    } finally {\n      setLoadingDatasets(false);\n    }\n  }\n  async function requestAccess(domain, dataset) {\n    setError(null);\n    setLoadingPresign(p => ({\n      ...p,\n      [dataset]: true\n    }));\n    try {\n      const url = `${apiBase}/api/presign`;\n      const resp = await fetch(url, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          domain,\n          dataset,\n          expires_in: 300\n        }),\n        // we don't strictly need cache: \"no-store\" here, but it's ok to add if desired\n        cache: \"no-store\"\n      });\n      if (!resp.ok) {\n        const text = await resp.text();\n        throw new Error(`Presign failed: ${resp.status} ${text}`);\n      }\n\n      // ensure JSON content-type before parsing\n      const contentType = resp.headers.get(\"content-type\") || \"\";\n      if (contentType.includes(\"application/json\")) {\n        const json = await resp.json();\n        setPresigns(p => ({\n          ...p,\n          [dataset]: json\n        }));\n      } else {\n        const text = await resp.text();\n        throw new Error(`Presign response not JSON: ${text}`);\n      }\n    } catch (err) {\n      console.error(\"requestAccess error:\", err);\n      setError(err.message || \"Failed to request access\");\n    } finally {\n      setLoadingPresign(p => ({\n        ...p,\n        [dataset]: false\n      }));\n    }\n  }\n\n  // small helper render for access controls\n  function AccessControls({\n    domain,\n    dataset\n  }) {\n    const presign = presigns[dataset] || null;\n    const requesting = !!loadingPresign[dataset];\n    if (!presign) {\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn cloud-btn-view\",\n        onClick: () => requestAccess(domain, dataset),\n        disabled: requesting,\n        children: requesting ? \"Requesting…\" : \"Request access\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this);\n    }\n    const {\n      raw_url,\n      curated_url,\n      metadata_url,\n      missing = []\n    } = presign;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"access-buttons\",\n      role: \"group\",\n      \"aria-label\": `access-${dataset}`,\n      children: [raw_url ? /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"access-btn\",\n        href: raw_url,\n        target: \"_blank\",\n        rel: \"noreferrer\",\n        download: true,\n        title: \"Download raw file\",\n        children: \"Raw\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"access-btn disabled\",\n        \"aria-disabled\": \"true\",\n        title: \"Raw not available\",\n        children: \"Raw\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 11\n      }, this), curated_url ? /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"access-btn\",\n        href: curated_url,\n        target: \"_blank\",\n        rel: \"noreferrer\",\n        download: true,\n        title: \"Download curated file\",\n        children: \"Curated\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"access-btn disabled\",\n        \"aria-disabled\": \"true\",\n        title: \"Curated not available\",\n        children: \"Curated\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }, this), metadata_url ? /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"access-btn\",\n        href: metadata_url,\n        target: \"_blank\",\n        rel: \"noreferrer\",\n        download: true,\n        title: \"Download metadata\",\n        children: \"Metadata\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"access-btn disabled\",\n        \"aria-disabled\": \"true\",\n        title: \"Metadata not available\",\n        children: \"Metadata\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cloud-layout\",\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"cloud-domain-grid\",\n      role: \"tablist\",\n      \"aria-label\": \"domains\",\n      children: DOMAINS.map(dom => /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: dom.id === activeDomain ? \"cloud-domain-card cloud-domain-card-active\" : \"cloud-domain-card\",\n        onClick: () => setActiveDomain(dom.id),\n        \"aria-pressed\": dom.id === activeDomain,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cloud-domain-label\",\n          children: dom.label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"cloud-domain-desc\",\n          children: dom.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 13\n        }, this)]\n      }, dom.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"cloud-datasets-panel\",\n      \"aria-live\": \"polite\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"cloud-datasets-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"cloud-datasets-title\",\n            children: (activeDomainMeta === null || activeDomainMeta === void 0 ? void 0 : activeDomainMeta.label) || \"Selected domain\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"cloud-datasets-subtitle\",\n            children: loadingDatasets ? \"Loading datasets…\" : `${datasets.length} dataset${datasets.length !== 1 ? \"s\" : \"\"} registered`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cloud-datasets-meta\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"cloud-chip\",\n            children: [\"Node group:\", \" \", activeDomain === \"oceanography\" ? \"OCN-*\" : activeDomain === \"biodiversity\" ? \"BIO-*\" : activeDomain === \"molecular\" ? \"MOL-*\" : \"TAX-*\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cloud-dataset-list\",\n        children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: \"salmon\",\n            padding: 8,\n            fontWeight: 600\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 13\n        }, this), datasets.length === 0 && !loadingDatasets && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cloud-empty-state\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"cloud-empty-title\",\n            children: \"No datasets registered\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"cloud-empty-text\",\n            children: \"This domain does not have any datasets yet in the Cloud Data Server. Once ingestion pipelines are configured, they will appear here.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 13\n        }, this), datasets.map(name => /*#__PURE__*/_jsxDEV(\"article\", {\n          className: \"cloud-dataset-card\",\n          \"aria-label\": `dataset-${name}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cloud-dataset-main\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"cloud-dataset-name\",\n              children: name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"cloud-dataset-type\",\n              children: \"Dataset\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cloud-dataset-tags\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"cloud-pill cloud-pill-domain\",\n                children: activeDomainMeta === null || activeDomainMeta === void 0 ? void 0 : activeDomainMeta.label\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"cloud-pill status-online\",\n                children: \"Status: Online\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cloud-dataset-meta\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"cloud-meta-line\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"cloud-meta-label\",\n                children: \"Access:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 48\n              }, this), \" Controlled\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"cloud-meta-line\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"cloud-meta-label\",\n                children: \"Updated:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 48\n              }, this), \" \\u2014\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(AccessControls, {\n              domain: activeDomain,\n              dataset: name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn cloud-btn-view\",\n              style: {\n                marginTop: 8\n              },\n              onClick: () => alert(`Open dataset detail for ${name}`),\n              children: \"View dataset\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 15\n          }, this)]\n        }, name, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 230,\n    columnNumber: 5\n  }, this);\n}\n_s(CloudDataServerModule, \"Yo0IU/uJo5p+a02jn4DISOk21Mg=\");\n_c = CloudDataServerModule;\nvar _c;\n$RefreshReg$(_c, \"CloudDataServerModule\");","map":{"version":3,"names":["React","useState","useMemo","useEffect","jsxDEV","_jsxDEV","DOMAINS","id","label","description","CloudDataServerModule","apiBase","_s","activeDomain","setActiveDomain","datasets","setDatasets","loadingDatasets","setLoadingDatasets","presigns","setPresigns","loadingPresign","setLoadingPresign","error","setError","activeDomainMeta","find","d","listDatasets","domain","url","encodeURIComponent","resp","fetch","cache","ok","body","text","Error","status","contentType","headers","get","includes","json","Array","isArray","err","console","message","requestAccess","dataset","p","method","JSON","stringify","expires_in","AccessControls","presign","requesting","type","className","onClick","disabled","children","fileName","_jsxFileName","lineNumber","columnNumber","raw_url","curated_url","metadata_url","missing","role","href","target","rel","download","title","map","dom","length","style","color","padding","fontWeight","name","marginTop","alert","_c","$RefreshReg$"],"sources":["C:/Users/Aryan/Desktop/SIH/final_frontend/src/modules/CloudDataServerModule.js"],"sourcesContent":["// src/modules/CloudDataServerModule.js\r\nimport React, { useState, useMemo, useEffect } from \"react\";\r\nimport \"./CloudDataServerModule.css\";\r\n\r\n/**\r\n * CloudDataServerModule\r\n *\r\n * - apiBase: base URL for your FastAPI backend (e.g. \"http://localhost:8000\")\r\n *   If left empty string, it will call same-origin endpoints.\r\n *\r\n * Behavior:\r\n * - Clicking a domain triggers GET /api/datasets/{domain}\r\n * - Clicking \"Request access\" triggers POST /api/presign { domain, dataset }\r\n * - On success, Request access button is replaced with Raw/Curated/Metadata download buttons\r\n *\r\n * Fixes:\r\n * - Uses fetch(..., { cache: \"no-store\" }) to avoid 304 Not Modified responses without body\r\n * - Adds defensive handling for non-JSON responses and empty bodies to prevent JSON.parse errors\r\n */\r\n\r\nconst DOMAINS = [\r\n  {\r\n    id: \"oceanography\",\r\n    label: \"Oceanography\",\r\n    description: \"CTD, nutrients, currents, satellite SST & Chl-a grids.\",\r\n  },\r\n  {\r\n    id: \"biodiversity\",\r\n    label: \"Biodiversity\",\r\n    description: \"Species diversity, ecosystem assessments, biodiversity indices.\",\r\n  },\r\n  {\r\n    id: \"molecular\",\r\n    label: \"Molecular / eDNA\",\r\n    description: \"DNA barcodes, eDNA reads, metabarcoding matrices.\",\r\n  },\r\n  {\r\n    id: \"taxonomy\",\r\n    label: \"Taxonomy & Systematics\",\r\n    description: \"Species checklists, occurrence tables, reference libraries.\",\r\n  },\r\n];\r\n\r\nexport default function CloudDataServerModule({ apiBase = \"\" }) {\r\n  // active domain state\r\n  const [activeDomain, setActiveDomain] = useState(\"oceanography\");\r\n\r\n  // datasets list returned by backend for activeDomain (array of base names)\r\n  const [datasets, setDatasets] = useState([]);\r\n  const [loadingDatasets, setLoadingDatasets] = useState(false);\r\n\r\n  // presign results keyed by dataset name\r\n  // { [dataset]: { raw_url, curated_url, metadata_url, missing: [], tried_keys: {...} } }\r\n  const [presigns, setPresigns] = useState({});\r\n\r\n  // loading states for individual presign requests\r\n  const [loadingPresign, setLoadingPresign] = useState({});\r\n\r\n  // error banner\r\n  const [error, setError] = useState(null);\r\n\r\n  const activeDomainMeta = useMemo(\r\n    () => DOMAINS.find((d) => d.id === activeDomain),\r\n    [activeDomain]\r\n  );\r\n\r\n  useEffect(() => {\r\n    // load datasets when activeDomain changes\r\n    listDatasets(activeDomain);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [activeDomain]);\r\n\r\n  /**\r\n   * listDatasets\r\n   * - Uses cache: \"no-store\" to avoid 304 responses without a body\r\n   * - Verifies content-type before calling resp.json()\r\n   * - Provides helpful error messages on failure\r\n   */\r\n  async function listDatasets(domain) {\r\n    setError(null);\r\n    setLoadingDatasets(true);\r\n    setDatasets([]);\r\n    try {\r\n      const url = `${apiBase}/api/datasets/${encodeURIComponent(domain)}`;\r\n\r\n      // Force fresh fetch to avoid 304 Not Modified responses which have no body\r\n      const resp = await fetch(url, { cache: \"no-store\" });\r\n\r\n      // If non-OK status, read text and throw with server body for debugging\r\n      if (!resp.ok) {\r\n        const body = await resp.text();\r\n        throw new Error(`List failed: ${resp.status} ${body}`);\r\n      }\r\n\r\n      // If no content\r\n      if (resp.status === 204) {\r\n        setDatasets([]);\r\n        return;\r\n      }\r\n\r\n      // Only attempt JSON parse if content-type looks like json\r\n      const contentType = resp.headers.get(\"content-type\") || \"\";\r\n      if (contentType.includes(\"application/json\")) {\r\n        const json = await resp.json();\r\n        setDatasets(Array.isArray(json) ? json : []);\r\n      } else {\r\n        // helpful debug message — show what server actually returned\r\n        const text = await resp.text();\r\n        throw new Error(`Expected JSON but server returned content-type=${contentType} body=${text}`);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"listDatasets error:\", err);\r\n      setError(err.message || \"Failed to list datasets\");\r\n    } finally {\r\n      setLoadingDatasets(false);\r\n    }\r\n  }\r\n\r\n  async function requestAccess(domain, dataset) {\r\n    setError(null);\r\n    setLoadingPresign((p) => ({ ...p, [dataset]: true }));\r\n    try {\r\n      const url = `${apiBase}/api/presign`;\r\n      const resp = await fetch(url, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ domain, dataset, expires_in: 300 }),\r\n        // we don't strictly need cache: \"no-store\" here, but it's ok to add if desired\r\n        cache: \"no-store\",\r\n      });\r\n      if (!resp.ok) {\r\n        const text = await resp.text();\r\n        throw new Error(`Presign failed: ${resp.status} ${text}`);\r\n      }\r\n\r\n      // ensure JSON content-type before parsing\r\n      const contentType = resp.headers.get(\"content-type\") || \"\";\r\n      if (contentType.includes(\"application/json\")) {\r\n        const json = await resp.json();\r\n        setPresigns((p) => ({ ...p, [dataset]: json }));\r\n      } else {\r\n        const text = await resp.text();\r\n        throw new Error(`Presign response not JSON: ${text}`);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"requestAccess error:\", err);\r\n      setError(err.message || \"Failed to request access\");\r\n    } finally {\r\n      setLoadingPresign((p) => ({ ...p, [dataset]: false }));\r\n    }\r\n  }\r\n\r\n  // small helper render for access controls\r\n  function AccessControls({ domain, dataset }) {\r\n    const presign = presigns[dataset] || null;\r\n    const requesting = !!loadingPresign[dataset];\r\n\r\n    if (!presign) {\r\n      return (\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn cloud-btn-view\"\r\n          onClick={() => requestAccess(domain, dataset)}\r\n          disabled={requesting}\r\n        >\r\n          {requesting ? \"Requesting…\" : \"Request access\"}\r\n        </button>\r\n      );\r\n    }\r\n\r\n    const { raw_url, curated_url, metadata_url, missing = [] } = presign;\r\n\r\n    return (\r\n      <div className=\"access-buttons\" role=\"group\" aria-label={`access-${dataset}`}>\r\n        {raw_url ? (\r\n          <a\r\n            className=\"access-btn\"\r\n            href={raw_url}\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n            download\r\n            title=\"Download raw file\"\r\n          >\r\n            Raw\r\n          </a>\r\n        ) : (\r\n          <button className=\"access-btn disabled\" aria-disabled=\"true\" title=\"Raw not available\">\r\n            Raw\r\n          </button>\r\n        )}\r\n\r\n        {curated_url ? (\r\n          <a\r\n            className=\"access-btn\"\r\n            href={curated_url}\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n            download\r\n            title=\"Download curated file\"\r\n          >\r\n            Curated\r\n          </a>\r\n        ) : (\r\n          <button className=\"access-btn disabled\" aria-disabled=\"true\" title=\"Curated not available\">\r\n            Curated\r\n          </button>\r\n        )}\r\n\r\n        {metadata_url ? (\r\n          <a\r\n            className=\"access-btn\"\r\n            href={metadata_url}\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n            download\r\n            title=\"Download metadata\"\r\n          >\r\n            Metadata\r\n          </a>\r\n        ) : (\r\n          <button className=\"access-btn disabled\" aria-disabled=\"true\" title=\"Metadata not available\">\r\n            Metadata\r\n          </button>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"cloud-layout\">\r\n      {/* Domains grid */}\r\n      <section className=\"cloud-domain-grid\" role=\"tablist\" aria-label=\"domains\">\r\n        {DOMAINS.map((dom) => (\r\n          <button\r\n            key={dom.id}\r\n            type=\"button\"\r\n            className={dom.id === activeDomain ? \"cloud-domain-card cloud-domain-card-active\" : \"cloud-domain-card\"}\r\n            onClick={() => setActiveDomain(dom.id)}\r\n            aria-pressed={dom.id === activeDomain}\r\n          >\r\n            <div className=\"cloud-domain-label\">{dom.label}</div>\r\n            <p className=\"cloud-domain-desc\">{dom.description}</p>\r\n          </button>\r\n        ))}\r\n      </section>\r\n\r\n      {/* Datasets panel */}\r\n      <section className=\"cloud-datasets-panel\" aria-live=\"polite\">\r\n        <header className=\"cloud-datasets-header\">\r\n          <div>\r\n            <h3 className=\"cloud-datasets-title\">{activeDomainMeta?.label || \"Selected domain\"}</h3>\r\n            <p className=\"cloud-datasets-subtitle\">\r\n              {loadingDatasets ? \"Loading datasets…\" : `${datasets.length} dataset${datasets.length !== 1 ? \"s\" : \"\"} registered`}\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"cloud-datasets-meta\">\r\n            <span className=\"cloud-chip\">\r\n              Node group:{\" \"}\r\n              {activeDomain === \"oceanography\"\r\n                ? \"OCN-*\"\r\n                : activeDomain === \"biodiversity\"\r\n                ? \"BIO-*\"\r\n                : activeDomain === \"molecular\"\r\n                ? \"MOL-*\"\r\n                : \"TAX-*\"}\r\n            </span>\r\n          </div>\r\n        </header>\r\n\r\n        <div className=\"cloud-dataset-list\">\r\n          {error && (\r\n            <div style={{ color: \"salmon\", padding: 8, fontWeight: 600 }}>\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          {datasets.length === 0 && !loadingDatasets && (\r\n            <div className=\"cloud-empty-state\">\r\n              <p className=\"cloud-empty-title\">No datasets registered</p>\r\n              <p className=\"cloud-empty-text\">\r\n                This domain does not have any datasets yet in the Cloud Data Server.\r\n                Once ingestion pipelines are configured, they will appear here.\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          {datasets.map((name) => (\r\n            <article key={name} className=\"cloud-dataset-card\" aria-label={`dataset-${name}`}>\r\n              <div className=\"cloud-dataset-main\">\r\n                <h4 className=\"cloud-dataset-name\">{name}</h4>\r\n                <p className=\"cloud-dataset-type\">Dataset</p>\r\n\r\n                <div className=\"cloud-dataset-tags\">\r\n                  <span className=\"cloud-pill cloud-pill-domain\">{activeDomainMeta?.label}</span>\r\n                  <span className=\"cloud-pill status-online\">Status: Online</span>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"cloud-dataset-meta\">\r\n                <p className=\"cloud-meta-line\"><span className=\"cloud-meta-label\">Access:</span> Controlled</p>\r\n                <p className=\"cloud-meta-line\"><span className=\"cloud-meta-label\">Updated:</span> —</p>\r\n\r\n                {/* Access controls (Request access -> presign -> download buttons) */}\r\n                <AccessControls domain={activeDomain} dataset={name} />\r\n\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn cloud-btn-view\"\r\n                  style={{ marginTop: 8 }}\r\n                  onClick={() => alert(`Open dataset detail for ${name}`)}\r\n                >\r\n                  View dataset\r\n                </button>\r\n              </div>\r\n            </article>\r\n          ))}\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}