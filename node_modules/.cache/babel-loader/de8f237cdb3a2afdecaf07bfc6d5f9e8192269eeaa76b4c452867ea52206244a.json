{"ast":null,"code":"import _objectSpread from\"C:/Users/Aryan/Desktop/SIH/final_frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/modules/VisualizationParametersPanel.js\nimport React,{useState,useEffect,useMemo}from\"react\";import\"./VisualizationParametersPanel.css\";/**\r\n * VisualizationParametersPanel\r\n *\r\n * Props:\r\n *  - xOptions: array of strings for X-axis (Latitude, Longitude, Time)\r\n *  - yOptions: array of strings for Y-axis choices\r\n *  - initialX: default x option\r\n *  - initialY: array default y selections\r\n *  - onChange: callback(payload)\r\n *\r\n * Payload shape:\r\n * { independentVariable: 'Time', parameters: ['SST','CHL'], parameter1: 'SST', parameter2: 'CHL' }\r\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function VisualizationParametersPanel(_ref){let{xOptions=[\"Latitude\",\"Longitude\",\"Time\"],yOptions=[\"DIC\",\"MCO\",\"PCO2_ORIGINAL\",\"CHL\",\"NO3\",\"SSS\",\"SST\",\"DEVIANT_UNCERTAINTY\"],initialX=\"Time\",initialY=[\"SST\"],onChange=()=>{}}=_ref;const[independentVariable,setIndependentVariable]=useState(initialX);const[parameters,setParameters]=useState(initialY);// Expand named parameter keys parameter1, parameter2...\nconst namedParameters=()=>{const obj={};parameters.forEach((p,idx)=>{obj[\"parameter\".concat(idx+1)]=p;});return obj;};// Notify parent whenever selections change\nuseEffect(()=>{const payload=_objectSpread({independentVariable,parameters},namedParameters());onChange(payload);},[independentVariable,parameters,onChange]);// helper: compute which yOptions are still available (not selected)\nconst selectedSet=useMemo(()=>new Set(parameters),[parameters]);// Returns the available options for a new Y select (or for a specific index:\n// exclude the other selected parameters but allow own current selection)\nconst availableForIndex=index=>{return yOptions.filter(opt=>{// if this option is currently selected at the same index, allow it\nif(parameters[index]===opt)return true;// otherwise don't show options that appear in other selected slots\nreturn!selectedSet.has(opt);});};// Add a new parameter: pick the first available (if any)\nconst addParameter=()=>{// compute remaining options\nconst remaining=yOptions.filter(o=>!selectedSet.has(o));if(remaining.length===0)return;// nothing to add\nsetParameters(prev=>[...prev,remaining[0]]);};// Remove parameter at index\nconst removeParameterAt=index=>{setParameters(prev=>prev.filter((_,i)=>i!==index));};// When user changes a Y select at index, update parameters.\n// If they choose a value that is already used by another slot, prevent it by ignoring.\nconst setParameterAt=(index,value)=>{setParameters(prev=>{const copy=[...prev];copy[index]=value;return copy;});};// Whether Add button should be disabled\nconst addDisabled=yOptions.filter(o=>!selectedSet.has(o)).length===0;return/*#__PURE__*/_jsxs(\"div\",{className:\"vpp-panel\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"vpp-title\",children:\"Visualization Parameters\"}),/*#__PURE__*/_jsx(\"label\",{className:\"vpp-label\",children:\"X-axis (independent variable)\"}),/*#__PURE__*/_jsx(\"select\",{value:independentVariable,onChange:e=>setIndependentVariable(e.target.value),className:\"vpp-select\",\"aria-label\":\"vpp-x-axis\",children:xOptions.map(o=>/*#__PURE__*/_jsx(\"option\",{value:o,children:o},\"x-\".concat(o)))}),/*#__PURE__*/_jsxs(\"div\",{className:\"vpp-y-header\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"vpp-label\",children:\"Y-axis (parameters)\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"vpp-add\",onClick:addParameter,\"aria-label\":\"vpp-add\",disabled:addDisabled,title:addDisabled?\"No more available parameters\":\"Add another Y parameter\",children:\"+ Add\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"vpp-y-rows\",children:parameters.map((param,idx)=>{const avail=availableForIndex(idx);return/*#__PURE__*/_jsxs(\"div\",{className:\"vpp-y-row\",children:[/*#__PURE__*/_jsx(\"select\",{value:param,onChange:e=>setParameterAt(idx,e.target.value),className:\"vpp-select\",\"aria-label\":\"vpp-y-\".concat(idx),children:avail.map(o=>/*#__PURE__*/_jsx(\"option\",{value:o,children:o},\"\".concat(idx,\"-\").concat(o)))}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"vpp-remove\",onClick:()=>removeParameterAt(idx),\"aria-label\":\"vpp-remove-\".concat(idx),children:\"\\u2212\"})]},\"y-\".concat(idx));})})]});}","map":{"version":3,"names":["React","useState","useEffect","useMemo","jsx","_jsx","jsxs","_jsxs","VisualizationParametersPanel","_ref","xOptions","yOptions","initialX","initialY","onChange","independentVariable","setIndependentVariable","parameters","setParameters","namedParameters","obj","forEach","p","idx","concat","payload","_objectSpread","selectedSet","Set","availableForIndex","index","filter","opt","has","addParameter","remaining","o","length","prev","removeParameterAt","_","i","setParameterAt","value","copy","addDisabled","className","children","e","target","map","type","onClick","disabled","title","param","avail"],"sources":["C:/Users/Aryan/Desktop/SIH/final_frontend/src/modules/VisualizationParametersPanel.js"],"sourcesContent":["// src/modules/VisualizationParametersPanel.js\r\nimport React, { useState, useEffect, useMemo } from \"react\";\r\nimport \"./VisualizationParametersPanel.css\";\r\n\r\n/**\r\n * VisualizationParametersPanel\r\n *\r\n * Props:\r\n *  - xOptions: array of strings for X-axis (Latitude, Longitude, Time)\r\n *  - yOptions: array of strings for Y-axis choices\r\n *  - initialX: default x option\r\n *  - initialY: array default y selections\r\n *  - onChange: callback(payload)\r\n *\r\n * Payload shape:\r\n * { independentVariable: 'Time', parameters: ['SST','CHL'], parameter1: 'SST', parameter2: 'CHL' }\r\n */\r\n\r\nexport default function VisualizationParametersPanel({\r\n  xOptions = [\"Latitude\", \"Longitude\", \"Time\"],\r\n  yOptions = [\r\n    \"DIC\",\r\n    \"MCO\",\r\n    \"PCO2_ORIGINAL\",\r\n    \"CHL\",\r\n    \"NO3\",\r\n    \"SSS\",\r\n    \"SST\",\r\n    \"DEVIANT_UNCERTAINTY\",\r\n  ],\r\n  initialX = \"Time\",\r\n  initialY = [\"SST\"],\r\n  onChange = () => {},\r\n}) {\r\n  const [independentVariable, setIndependentVariable] = useState(initialX);\r\n  const [parameters, setParameters] = useState(initialY);\r\n\r\n  // Expand named parameter keys parameter1, parameter2...\r\n  const namedParameters = () => {\r\n    const obj = {};\r\n    parameters.forEach((p, idx) => {\r\n      obj[`parameter${idx + 1}`] = p;\r\n    });\r\n    return obj;\r\n  };\r\n\r\n  // Notify parent whenever selections change\r\n  useEffect(() => {\r\n    const payload = {\r\n      independentVariable,\r\n      parameters,\r\n      ...namedParameters(),\r\n    };\r\n    onChange(payload);\r\n  }, [independentVariable, parameters, onChange]);\r\n\r\n  // helper: compute which yOptions are still available (not selected)\r\n  const selectedSet = useMemo(() => new Set(parameters), [parameters]);\r\n\r\n  // Returns the available options for a new Y select (or for a specific index:\r\n  // exclude the other selected parameters but allow own current selection)\r\n  const availableForIndex = (index) => {\r\n    return yOptions.filter((opt) => {\r\n      // if this option is currently selected at the same index, allow it\r\n      if (parameters[index] === opt) return true;\r\n      // otherwise don't show options that appear in other selected slots\r\n      return !selectedSet.has(opt);\r\n    });\r\n  };\r\n\r\n  // Add a new parameter: pick the first available (if any)\r\n  const addParameter = () => {\r\n    // compute remaining options\r\n    const remaining = yOptions.filter((o) => !selectedSet.has(o));\r\n    if (remaining.length === 0) return; // nothing to add\r\n    setParameters((prev) => [...prev, remaining[0]]);\r\n  };\r\n\r\n  // Remove parameter at index\r\n  const removeParameterAt = (index) => {\r\n    setParameters((prev) => prev.filter((_, i) => i !== index));\r\n  };\r\n\r\n  // When user changes a Y select at index, update parameters.\r\n  // If they choose a value that is already used by another slot, prevent it by ignoring.\r\n  const setParameterAt = (index, value) => {\r\n    setParameters((prev) => {\r\n      const copy = [...prev];\r\n      copy[index] = value;\r\n      return copy;\r\n    });\r\n  };\r\n\r\n  // Whether Add button should be disabled\r\n  const addDisabled = yOptions.filter((o) => !selectedSet.has(o)).length === 0;\r\n\r\n  return (\r\n    <div className=\"vpp-panel\">\r\n      <h3 className=\"vpp-title\">Visualization Parameters</h3>\r\n\r\n      <label className=\"vpp-label\">X-axis (independent variable)</label>\r\n      <select\r\n        value={independentVariable}\r\n        onChange={(e) => setIndependentVariable(e.target.value)}\r\n        className=\"vpp-select\"\r\n        aria-label=\"vpp-x-axis\"\r\n      >\r\n        {xOptions.map((o) => (\r\n          <option key={`x-${o}`} value={o}>\r\n            {o}\r\n          </option>\r\n        ))}\r\n      </select>\r\n\r\n      <div className=\"vpp-y-header\">\r\n        <label className=\"vpp-label\">Y-axis (parameters)</label>\r\n        <button\r\n          type=\"button\"\r\n          className=\"vpp-add\"\r\n          onClick={addParameter}\r\n          aria-label=\"vpp-add\"\r\n          disabled={addDisabled}\r\n          title={addDisabled ? \"No more available parameters\" : \"Add another Y parameter\"}\r\n        >\r\n          + Add\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"vpp-y-rows\">\r\n        {parameters.map((param, idx) => {\r\n          const avail = availableForIndex(idx);\r\n          return (\r\n            <div key={`y-${idx}`} className=\"vpp-y-row\">\r\n              <select\r\n                value={param}\r\n                onChange={(e) => setParameterAt(idx, e.target.value)}\r\n                className=\"vpp-select\"\r\n                aria-label={`vpp-y-${idx}`}\r\n              >\r\n                {avail.map((o) => (\r\n                  <option key={`${idx}-${o}`} value={o}>\r\n                    {o}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n\r\n              <button\r\n                type=\"button\"\r\n                className=\"vpp-remove\"\r\n                onClick={() => removeParameterAt(idx)}\r\n                aria-label={`vpp-remove-${idx}`}\r\n              >\r\n                âˆ’\r\n              </button>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      {/* <div className=\"vpp-preview\">\r\n        <div className=\"vpp-preview-label\">Stored variables (read-only preview)</div>\r\n        <pre className=\"vpp-json\">\r\n{JSON.stringify({ independentVariable, parameters, ...namedParameters() }, null, 2)}\r\n        </pre>\r\n      </div> */}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}